<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:fn="http://www.w3.org/2005/xpath-functions">
  <head>
    <title>jMock - Ignoring Irrelevant Mock Objects</title>
    <link media="screen" rel="stylesheet" type="text/css" href="./jmock.css"/>
    <link media="print" rel="stylesheet" type="text/css" href="./print.css"/>
    <link rel="icon" type="image/png" href="./icon.png"/>
    <meta http-equiv="Content-Script-Type" content="text/javascript"/>
    <script type="text/javascript" src="prefs.js">
      
    </script>
  </head>
  <body onload="restorePreferredTestFramework()">
    <div id="banner">
      <a href="./index.html">
        <img id="logo" src="logo.png" alt="jMock"/>
      </a>
    </div>
    <div id="center" class="Content">
      <div id="content">
        <h1>Ignoring Irrelevant Mock Objects</h1>
        <p>The following expectation ignores the mock object <var>fruitbat</var>
during the test.</p>
        <pre class="Java Source">ignoring (fruitbat);</pre>
        <p>During the test any method of <em>fruitbat</em> can be called any number
of times or not called at all.</p>
        <p>When an ignored object is invoked during the test it returns a "zero"
value that depends on the result type of the invoked method:</p>
        <table border="1">
  <tbody>
    <tr>
      <th>Return Type</th>
      <th>"Zero" Value</th>
    </tr>
    <tr>
      <td>boolean</td>
      <td><code>false</code></td>
    </tr>
    <tr>
      <td>numeric type</td>
      <td>zero</td>
    </tr>
    <tr>
      <td>String</td>
      <td>"" (empty string)</td>
    </tr>
    <tr>
      <td>Array</td>
      <td>Empty array</td>
    </tr>
    <tr>
      <td>Mockable type</td>
      <td>A mock that is ignored</td>
    </tr>
    <tr>
      <td>Any other type</td>
      <td><code>null</code></td>
    </tr>
  </tbody>
</table>
        <p>The fact that a method with a mockable return type will return another
ignored mock object makes the ignoring expectation very powerful. The
returned object will also return "zero" values, and any mockable values it
returns will also be ignored, and any mockable values <em>they</em> return
will be ignored, and so on. This allows you to focus individual tests on
different aspects of an object's functionality, ignoring irrelevant
collaborators.</p>
        <p>For example, the following statement ignores the <a href="http://www.hibernate.org">Hibernate</a><sup class="LinkFootnoteRef">1</sup> <code>SessionFactory</code>,
and the current <code>Session</code> obtained from the
<code>getCurrentSession()</code> method, and the Transaction returned from
the <code>beginTransaction()</code> method and the <code>commit()</code> and
<code>rollback()</code> methods of the Transaction. So you can specify the
behaviour of the object independently of how it coordinates transactions and
test the transaction management in other tests.</p>
        <pre class="Java Source">ignoring (hibernateSessionFactory);</pre>
      </div>
      <div class="LinkFootnotes">
        <p class="LinkFootnotesHeader">Links:</p>
        <p>1.
	  				Hibernate:
	  				
	  				http://www.hibernate.org</p>
      </div>
    </div>
    <div id="navigation">
      <div class="MenuGroup">
        <h1>
          <a href="download.html">Software</a>
        </h1>
        <versions xmlns="">
  <h2 xmlns="http://www.w3.org/1999/xhtml">jMock 2 (Java 1.5+)</h2><ul xmlns="http://www.w3.org/1999/xhtml"><li><a href="./download.html">Stable: 2.6.0</a></li></ul>
  <h2 xmlns="http://www.w3.org/1999/xhtml">jMock 1 (Java 1.3+)</h2><ul xmlns="http://www.w3.org/1999/xhtml"><li><a href="./download.html">Stable: 1.2.0</a></li></ul>
</versions>
        <p>
          <a href="./repository.html">Source Repository</a>
        </p>
        <p>
          <a href="./license.html">Project License</a>
        </p>
        <p>
          <a href="./versioning.html">Version Numbering</a>
        </p>
        <p>
          <a href="./extensions.html">Extensions</a>
        </p>
      </div>
      <div class="MenuGroup">
        <h1>Documentation</h1>
        <p>
          <a href="./getting-started.html">Getting Started</a>
        </p>
        <p>
          <a href="./cookbook.html">Cookbook</a>
        </p>
        <p>
          <a href="./cheat-sheet.html">Cheat Sheet</a>
        </p>
        <p>
          <a href="./javadoc.html">API Documentation</a>
        </p>
        <p>
          <a href="./articles.html">Articles and Papers</a>
        </p>
        <p>
          <a href="./jmock1.html">jMock 1 Documentation</a>
        </p>
        <p>
          <a href="http://www.mockobjects.com">About Mock Objects</a>
        </p>
      </div>
      <div class="MenuGroup">
        <h1>User Support</h1>
        <p>
          <a href="./mailing-lists.html">Mailing Lists</a>
        </p>
        <p>
          <a href="http://www.musketeer-labs.com/">Training</a>
        </p>
        <p>
          <a href="http://jira.codehaus.org/secure/BrowseProject.jspa?id=10336">Issue Tracker</a>
        </p>
        <p>
          <a href="./news-rss2.xml">News Feed (RSS 2.0)</a>
        </p>
      </div>
      <div class="MenuGroup">
        <h1>Credits</h1>
        <p>
          <a href="./team.html">Development Team</a>
        </p>
        <p>
          <a href="http://www.codehaus.org">Project hosted by Codehaus</a>
        </p>
        <p>
          <a href="http://tango.freedesktop.org">Icons by the Tango Project</a>
        </p>
      </div>
    </div>
  </body>
</html>
