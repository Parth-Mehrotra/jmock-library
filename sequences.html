<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Expect a Sequence of Invocations</title>
  </head>

  <body>
    <h1>Expect a Sequence of Invocations</h1>

    <p>Sequences are used to define expectations that must occur in the order
    in which they appear in the test code. A test can create more than one
    sequence and an expectation can be part of more than once sequence at a
    time.</p>

    <p>To define a new sequence:</p>

    <div class="Raw"><h3>Raw</h3><pre class="Java Source">final Sequence <var>sequence-name</var> = context.sequence("<var>sequence-name</var>");</pre></div>

    <div class="JUnit3"><h3>JUnit 3</h3><pre class="Java Source">final Sequence <var>sequence-name</var> = sequence("<var>sequence-name</var>");</pre></div>

    <div class="JUnit4"><h3>JUnit 4</h3><pre class="Java Source">final Sequence <var>sequence-name</var> = context.sequence("<var>sequence-name</var>");</pre></div>

    <p>JMock can <a href="auto.html">auto-instantiate Sequences</a> to reduce
    boilerplate code.</p>

    <p>To expect a sequence of invocations, write the expectations in order
    and add the <code>inSequence(<var>sequence</var>)</code> clause to each
    one. For example:</p>

    <pre class="Java Source">oneOf (turtle).forward(10); inSequence(drawing);
oneOf (turtle).turn(45); inSequence(drawing);
oneOf (turtle).forward(10); inSequence(drawing);</pre>

    <p>Expectations in a sequence can have any <a
    href="cardinality.html">invocation count</a>. If an expectation in a
    sequence is allowed, rather than expected, it can be skipped in the
    sequence.</p>
  </body>
</html>
